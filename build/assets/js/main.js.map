{"version":3,"sources":["main.js"],"names":["qs","document","querySelector","sel","qsa","querySelectorAll","APP","name","cardCalc","cards","cardObj","index","quantity","cardArr","price","summ","totalQuantityArr","forEach","elem","push","parseInt","result","reduce","sum","current","totalQuantity","card","basketCounter","counter","counterMinusBtn","counterPlusBtn","counterNumber","inputFirst","inputs","insertText","innerText","defaultPrice","getAttribute","itemObj","addEventListener","quantityMinus","calcPrice","calcTotalQuantity","quantityPlus","input","onPageRdy"],"mappings":"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","file":"main.js","sourcesContent":["const qs = sel => document.querySelector(sel);\r\nconst qsa = sel => document.querySelectorAll(sel);\r\nconst APP = {\r\n\tname: 'HTML Starter'\r\n};\r\n\r\n(function () {\n\t// specific\n\tconst cardCalc = function () {\n\t\tconst cards = document.querySelectorAll('.js-card');\n\t\tconst cardObj = {\n\t\t\t'cardArr': [],\n\t\t\t'calcPrice': function (index) {\n\t\t\t\tconst quantity = this.cardArr[index].quantity;\n\t\t\t\tconst price = this.cardArr[index].price;\n\n\t\t\t\tconst summ = quantity * price;\n\n\t\t\t\treturn this.cardArr[index].summ = summ;\n\t\t\t},\n\t\t\t'quantityMinus': function (index) {\n\t\t\t\tlet quantity = this.cardArr[index].quantity;\n\t\t\t\tquantity--;\n\n\t\t\t\tif(quantity <= 0) {\n\t\t\t\t\tquantity = 1;\n\t\t\t\t}\n\n\t\t\t\treturn this.cardArr[index].quantity = quantity;\n\t\t\t},\n\t\t\t'quantityPlus': function (index) {\n\t\t\t\tlet quantity = this.cardArr[index].quantity;\n\t\t\t\tquantity++;\n\n\t\t\t\treturn this.cardArr[index].quantity = quantity;\n\t\t\t},\n\t\t\t'calcTotalQuantity': function (index) {\n\t\t\t\tconst totalQuantityArr = [];\n\n\t\t\t\tthis.cardArr.forEach(function (elem) {\n\t\t\t\t\ttotalQuantityArr.push(parseInt(elem.quantity));\n\t\t\t\t});\n\n\t\t\t\tconst result = totalQuantityArr.reduce(function (sum, current) {\n\t\t\t\t\treturn sum + current;\n\t\t\t\t}, 0);\n\n\t\t\t\tthis.totalQuantity = result;\n\t\t\t},\n\t\t};\n\n\t\tcards.forEach(function (card, index) {\n\t\t\tconst basketCounter = document.querySelector('.js-basket-counter');\n\t\t\tconst counter = card.querySelector('.js-counter');\n\t\t\tconst counterMinusBtn = counter.querySelector('.js-counter-prev');\n\t\t\tconst counterPlusBtn = counter.querySelector('.js-counter-next');\n\t\t\tconst counterNumber = counter.querySelector('.js-counter-number');\n\t\t\tconst inputFirst = card.querySelector('.js-card-input');\n\t\t\tconst inputs = card.querySelectorAll('.js-card-input');\n\t\t\tconst price = card.querySelector('.js-card-price');\n\n\t\t\tconst insertText = function () {\n\t\t\t\tcounterNumber.innerText = cardObj.cardArr[index].quantity;\n\t\t\t\tprice.innerText = cardObj.cardArr[index].summ;\n\t\t\t\tbasketCounter.innerText = cardObj.totalQuantity;\n\t\t\t};\n\n\t\t\t// data for obj\n\t\t\tconst quantity = counterNumber.innerText;\n\t\t\tconst defaultPrice = inputFirst.getAttribute('data-default-price');\n\n\t\t\tconst itemObj = {\n\t\t\t\tquantity: quantity,\n\t\t\t\tprice: defaultPrice\n\t\t\t};\n\n\t\t\t// data created\n\t\t\tcardObj.cardArr.push(itemObj);\n\n\t\t\t// listeners\n\t\t\tcounterMinusBtn.addEventListener('click', function () {\n\t\t\t\tcardObj.quantityMinus(index);\n\t\t\t\tcardObj.calcPrice(index);\n\t\t\t\tcardObj.calcTotalQuantity();\n\n\t\t\t\tinsertText();\n\t\t\t});\n\n\t\t\tcounterPlusBtn.addEventListener('click', function () {\n\t\t\t\tcardObj.quantityPlus(index);\n\t\t\t\tcardObj.calcPrice(index);\n\t\t\t\tcardObj.calcTotalQuantity();\n\n\t\t\t\tinsertText();\n\t\t\t});\n\n\t\t\tinputs.forEach(function (input) {\n\t\t\t\tinput.addEventListener('change', function () {\n\t\t\t\t\tconst defaultPrice = input.getAttribute('data-default-price');\n\n\t\t\t\t\tcardObj.cardArr[index].price = defaultPrice;\n\t\t\t\t\tcardObj.calcPrice(index);\n\t\t\t\t\tcardObj.calcTotalQuantity();\n\n\t\t\t\t\tinsertText();\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t};\n\n\tconst onPageRdy = function () {\n\t\tcardCalc();\n\t};\n\n\tonPageRdy();\n})();\n"]}